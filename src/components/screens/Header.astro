---
const { lang } = Astro.props;
const homeLink = "/" + lang + "/"
const slugTranslations = {
  AboutTheProjectLink: {
    en: "/en/about-the-project",
    es: "/es/sobre-el-proyecto"
  },
  WhatWeDoLink: {
    en: "/en/what-we-do",
    es: "/es/que-hacemos"
  },
  EventsLink: {
    en: "/en/events",
    es: "/es/eventos"
  },
  GalleryLink: {
    en: "/en/gallery",
    es: "/es/galeria"
  },
  BlogLink: {
    en: "/en/blog",
    es: "/es/blog"
  },
  JoinTheCommunityLink: {
    en: "/en/become-a-member",
    es: "/es/hazte-miembro"
  }
}

function getSlugTranslation(key: keyof typeof slugTranslations, lang: 'en' | 'es'): string {
  return slugTranslations[key][lang];
}

let AboutTheProjectLink = getSlugTranslation('AboutTheProjectLink', lang);
let WhatWeDoLink = getSlugTranslation('WhatWeDoLink', lang);
let EventsLink = getSlugTranslation('EventsLink', lang);
let GalleryLink = getSlugTranslation('GalleryLink', lang);
let BlogLink = getSlugTranslation('BlogLink', lang);
let JoinTheCommunityLink = getSlugTranslation('JoinTheCommunityLink', lang);

const stringTranslations = {
  HomeString: {
    en: "Home",
    es: "Inicio"
  },
  AboutTheProjectString: {
    en: "About the project",
    es: "Sobre el proyecto"
  },
  WhatWeDoString: {
    en: "What we do",
    es: "Qué hacemos"
  },
  EventsString: {
    en: "Events",
    es: "Eventos"
  },
  GalleryString: {
    en: "Gallery",
    es: "Galería"
  },
  BlogString: {
    en: "Blog",
    es: "Blog"
  },
  JoinTheCommunityString: {
    en: "Join the community",
    es: "Únete a la comunidad"
  }
}

function getStringTranslation(key: keyof typeof stringTranslations, lang: 'en' | 'es'): string {
  return stringTranslations[key][lang];
}
let HomeString = getStringTranslation('HomeString', lang);
let AboutTheProjectString = getStringTranslation('AboutTheProjectString', lang);
let WhatWeDoString = getStringTranslation('WhatWeDoString', lang);
let EventsString = getStringTranslation('EventsString', lang);
let GalleryString = getStringTranslation('GalleryString', lang);
let BlogString = getStringTranslation('BlogString', lang);
let JoinTheCommunityString = getStringTranslation('JoinTheCommunityString', lang);
---

<nav class="bg-white w-full z-20 top-0 start-0 border-b border-gray-200">
	<div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
		<a href={homeLink} class="flex items-center space-x-3 rtl:space-x-reverse">
			<img src="/img/bcncyber-logo-purple.png" class="h-20" alt="BCNCybersecurity Logo">
		</a>
		<button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls="navbar-default" aria-expanded="false">
			<span class="sr-only">menu</span>
			<svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
				<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
			</svg>
		</button>
		<a class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse" href={JoinTheCommunityLink}>
			<div>
				<button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center">{JoinTheCommunityString}</button>
			</div>
		</a>

		<div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
		<ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white">
			<li>
			<a href={homeLink} class="block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0" aria-current="page">{HomeString}</a>
			</li>
			<li>
			<a href={AboutTheProjectLink} class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">{AboutTheProjectString}</a>
			</li>
			<li>
			<a href={WhatWeDoLink} class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">{WhatWeDoString}</a>
			</li>
			<li>
			<a href={EventsLink} class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">{EventsString}</a>
			</li>
			<li>
				<a href={GalleryLink} class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">{GalleryString}</a>
			</li>
			<li>
				<a href={BlogLink} class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0">{BlogString}</a>
			</li>
		</ul>
		</div>
	</div>
</nav>
